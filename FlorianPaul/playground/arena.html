<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>KI Arena</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/pages/playground-arena.css">
</head>
<body class="lab-page">

    <div class="lab-toolbar">
        <div class="toolbar-left">
            <a href="../index.html" class="viz-btn btn-back">‚¨Ö Men√º</a>

            <div class="viz-control-group">
                <label class="viz-label">Blau:</label>
                <select id="aiTypeBlue" class="viz-select" onchange="Arena.updateKIConfig(1)">
                    <option value="random" selected>Random</option>
                    <option value="ruledbased">Regelbaum</option>
                    <option value="minimax">Minimax</option>
                </select>
            </div>

            <div class="viz-control-group" id="paramBlueContainer"></div>
        </div>

        <div class="toolbar-center">
            <div class="viz-control-group">
                <label class="viz-label">Szenario:</label>
                <select id="gameTypeSelector" class="viz-select" onchange="Arena.changeGameType()">
                    <option value="regular">TTT Klassik 3x3</option>
                    <option value="3d">TTT 3D 3x3x3</option>
                    <option value="ultimate">TTT Ultimate</option>
                    <option value="c4_regular">4 Gewinnt Klassik</option>
                    <option value="c4_3d">4 Gewinnt 3D</option>
                </select>
            </div>

            <div class="viz-control-group">
                <label class="viz-label">Startspieler:</label>
                <select id="startPlayerSelector" class="viz-select">
                    <option value="1">Blau</option>
                    <option value="2">Rot</option>
                    <option value="random">Zufall</option>
                </select>
            </div>

            <div class="viz-control-group">
                <label class="viz-label">Spiele:</label>
                <input type="number" id="numGames" class="viz-select input-medium" value="10" min="1" max="1000">
            </div>

            <div class="viz-control-group">
                <button class="viz-btn viz-btn-action" onclick="Arena.stepSingleGame()">‚ñ∂ Einzelspiel</button>
                <button class="viz-btn viz-btn-action" id="btnBattle" onclick="Arena.startBattle()">‚öîÔ∏è Battle</button>
            </div>
        </div>

        <div class="toolbar-right">
            <div class="viz-control-group">
                <label class="viz-label">Rot:</label>
                <select id="aiTypeRed" class="viz-select" onchange="Arena.updateKIConfig(2)">
                    <option value="random" selected>Random</option>
                    <option value="ruledbased">Regelbaum</option>
                    <option value="minimax">Minimax</option>
                </select>
            </div>

            <div class="viz-control-group" id="paramRedContainer"></div>

            <div class="viz-control-group">
                <button class="viz-btn viz-btn-restart" onclick="Arena.reset()">‚Ü∫ Reset</button>
            </div>
        </div>
    </div>

    <div class="lab-grid">
        
        <div class="col-tree">
            <div class="panel-header panel-header-blue">
                <span>üß†</span> KI Blau
            </div>
            <div class="tree-container" id="treeDisplayP1"></div>
            <div class="random-mascot" id="randomMascotP1">
                <div class="random-emoji">üé≤üéâ</div>
                <div class="random-text">Zufalls-KI</div>
                <div>Heute w√ºrfelt das Schicksal!</div>
            </div>
        </div>

        <div class="col-game">
            <div class="game-card">
                <div id="controls3D" class="view-controls hidden">
                    <button class="view-btn active" onclick="Arena.setAxis('z')">Ebenen</button>
                    <button class="view-btn" onclick="Arena.setAxis('y')">Vorne</button>
                    <button class="view-btn" onclick="Arena.setAxis('x')">Seite</button>
                </div>

                <div class="canvas-container">
                    <canvas id="gameCanvas" width="250" height="250"></canvas>
                </div>
                
                <div id="statusText" class="stats-display ai-stats">Bereit</div>
            </div>

            <div class="stats-box hidden" id="statsPanel">
                <div class="stat-row">
                    <span class="stat-label">Spiele:</span>
                    <span class="stat-value" id="statGames">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Blau Siege:</span>
                    <span class="stat-value blue" id="statBlueWins">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Rot Siege:</span>
                    <span class="stat-value red" id="statRedWins">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Remis:</span>
                    <span class="stat-value draw" id="statDraws">0</span>
                </div>
                <div class="stat-row stat-row-separator">
                    <span class="stat-label">Blau %:</span>
                    <span class="stat-value blue" id="statBluePercent">0%</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Rot %:</span>
                    <span class="stat-value red" id="statRedPercent">0%</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Remis %:</span>
                    <span class="stat-value draw" id="statDrawPercent">0%</span>
                </div>
                <div class="stat-row stat-row-separator">
                    <span class="stat-label">√ò Z√ºge:</span>
                    <span class="stat-value" id="statAvgMoves">0</span>
                </div>
                <div class="stat-row">
                    <span class="stat-label">Zeit total:</span>
                    <span class="stat-value" id="statTotalTime">0s</span>
                </div>
            </div>
        </div>

        <div class="col-tree">
            <div class="panel-header panel-header-red">
                <span>ü§ñ</span> KI Rot
            </div>
            <div class="tree-container" id="treeDisplayP2"></div>
            <div class="random-mascot" id="randomMascotP2">
                <div class="random-emoji">üéØüçÄ</div>
                <div class="random-text">Zufalls-KI</div>
                <div>Treffer oder Gl√ºck!</div>
            </div>
        </div>
    </div>

    <script src="../js/core/game-state.js"></script>
    <script src="../js/core/game-adapter.js"></script>
    <script src="../js/games/tictactoe/logic.js"></script>
    <script src="../js/games/tictactoe/renderer.js"></script>
    <script src="../js/games/connect4/logic.js"></script>
    <script src="../js/games/connect4/renderer.js"></script>
    <script src="../js/ai/heuristics/base.js"></script>
    <script src="../js/ai/heuristics/ttt.js"></script>
    <script src="../js/ai/heuristics/connect4.js"></script>
    <script src="../js/ai/minimax.js"></script>
    <script src="../js/ai/rules/rule-structure.js"></script>
    <script src="../js/ai/rules/ttt-rules.js"></script>
    <script src="../js/ai/rules/connect4-rules.js"></script>
    <script src="../js/viz/flowchart-visualizer.js"></script>

    <script src="../js/pages/playground-arena.js"></script>
</body>
</html>

