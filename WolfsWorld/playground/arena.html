<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KI Arena Playground</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/arena-playground.css">
</head>
<body>
    <div class="viz-toolbar">
        <a href="../index.html" class="viz-btn btn-back">‚¨Ö Men√º</a>
        <span style="margin-left:10px; font-weight:bold; color:white;">ü§ñ KI Arena Playground</span>

        <!-- Spiel-Auswahl -->
        <div class="viz-control-group">
            <label class="viz-label">Spiel:</label>
            <select id="gameSelect" class="viz-select">
                <option value="TTT Regular">Tic-Tac-Toe (3√ó3)</option>
                <option value="TTT 3D">Tic-Tac-Toe 3D</option>
                <option value="TTT Ultimate">Tic-Tac-Toe Ultimate</option>
            </select>
        </div>

        <!-- Agent 1 -->
        <div class="viz-control-group">
            <label class="viz-label">Agent 1 (Blau):</label>
            <select id="agent1Select" class="viz-select">
                <option value="minimaxCautious">Minimax (Vorsichtig)</option>
                <option value="minimaxBalanced" selected>Minimax (Ausgewogen)</option>
                <option value="minimaxAggressive">Minimax (Aggressiv)</option>
                <option value="minimaxHeuristicCentered">Minimax (Zentral)</option>
                <option value="minimaxHeuristicMobility">Minimax (Mobilit√§t)</option>
                <option value="ruleBasedConservative">Regel-KI (Konservativ)</option>
                <option value="ruleBasedBalanced">Regel-KI (Ausgewogen)</option>
                <option value="ruleBasedAggressive">Regel-KI (Offensiv)</option>
                <option value="random">Zufalls-KI</option>
            </select>
        </div>

        <!-- Agent 2 -->
        <div class="viz-control-group">
            <label class="viz-label">Agent 2 (Rot):</label>
            <select id="agent2Select" class="viz-select">
                <option value="minimaxCautious">Minimax (Vorsichtig)</option>
                <option value="minimaxBalanced">Minimax (Ausgewogen)</option>
                <option value="minimaxAggressive" selected>Minimax (Aggressiv)</option>
                <option value="minimaxHeuristicCentered">Minimax (Zentral)</option>
                <option value="minimaxHeuristicMobility">Minimax (Mobilit√§t)</option>
                <option value="ruleBasedConservative">Regel-KI (Konservativ)</option>
                <option value="ruleBasedBalanced">Regel-KI (Ausgewogen)</option>
                <option value="ruleBasedAggressive">Regel-KI (Offensiv)</option>
                <option value="random">Zufalls-KI</option>
            </select>
        </div>

        <!-- Anzahl Spiele -->
        <div class="viz-control-group">
            <label class="viz-label">Spiele:</label>
            <input type="number" id="numGames" min="1" max="10000" value="100" class="viz-input-number">
        </div>

        <!-- Checkboxes -->
        <div class="viz-checkboxes">
            <label class="viz-checkbox-label">
                <input type="checkbox" id="showFirstGame" checked>
                Visualisieren
            </label>
            <label class="viz-checkbox-label">
                <input type="checkbox" id="showAdvancedStats">
                Advanced
            </label>
        </div>

        <!-- Start Button -->
        <button id="startButton" class="viz-btn viz-btn-action">üöÄ Start</button>
        <button id="stopButton" class="viz-btn viz-btn-restart" disabled style="display: none;">‚èπ Stop</button>
    </div>

    <div class="arena-container">
        <h1>ü§ñ KI Arena Playground</h1>
        <p class="subtitle">Zwei KI-Agenten treten gegeneinander an</p>

        <!-- KONFIGURATION -->
        <section class="arena-section config-section">
            <h2>‚öôÔ∏è Konfiguration</h2>
            
            <div class="config-grid">
                <!-- Spiel-Auswahl -->
                <div class="config-block">
                    <label for="gameSelect">Spiel:</label>
                    <select id="gameSelect">
                        <option value="TTT Regular">Tic-Tac-Toe (3√ó3)</option>
                        <option value="TTT 3D">Tic-Tac-Toe 3D</option>
                        <option value="TTT Ultimate">Tic-Tac-Toe Ultimate</option>
                    </select>
                </div>

                <!-- Agent 1 (Blau) Auswahl -->
                <div class="config-block">
                    <label for="agent1Select">Agent 1 (Blau):</label>
                    <select id="agent1Select">
                        <optgroup label="Minimax">
                            <option value="minimaxCautious">Minimax (Vorsichtig)</option>
                            <option value="minimaxBalanced" selected>Minimax (Ausgewogen)</option>
                            <option value="minimaxAggressive">Minimax (Aggressiv)</option>
                            <option value="minimaxHeuristicCentered">Minimax (Zentraler Fokus)</option>
                            <option value="minimaxHeuristicMobility">Minimax (Mobilit√§t)</option>
                        </optgroup>
                        <optgroup label="Regel-KI">
                            <option value="ruleBasedConservative">Regel-KI (Konservativ)</option>
                            <option value="ruleBasedBalanced">Regel-KI (Ausgewogen)</option>
                            <option value="ruleBasedAggressive">Regel-KI (Offensiv)</option>
                        </optgroup>
                        <optgroup label="Andere">
                            <option value="random">Zufalls-KI</option>
                        </optgroup>
                    </select>
                </div>

                <!-- Agent 2 (Rot) Auswahl -->
                <div class="config-block">
                    <label for="agent2Select">Agent 2 (Rot):</label>
                    <select id="agent2Select">
                        <optgroup label="Minimax">
                            <option value="minimaxCautious">Minimax (Vorsichtig)</option>
                            <option value="minimaxBalanced">Minimax (Ausgewogen)</option>
                            <option value="minimaxAggressive" selected>Minimax (Aggressiv)</option>
                            <option value="minimaxHeuristicCentered">Minimax (Zentraler Fokus)</option>
                            <option value="minimaxHeuristicMobility">Minimax (Mobilit√§t)</option>
                        </optgroup>
                        <optgroup label="Regel-KI">
                            <option value="ruleBasedConservative">Regel-KI (Konservativ)</option>
                            <option value="ruleBasedBalanced">Regel-KI (Ausgewogen)</option>
                            <option value="ruleBasedAggressive">Regel-KI (Offensiv)</option>
                        </optgroup>
                        <optgroup label="Andere">
                            <option value="random">Zufalls-KI</option>
                        </optgroup>
                    </select>
                </div>

                <!-- Anzahl Spiele -->
                <div class="config-block">
                    <label for="numGames">Anzahl Spiele:</label>
                    <input type="number" id="numGames" min="1" max="10000" value="100">
                </div>

                <!-- Erstes Spiel anzeigen -->
                <div class="config-block checkbox">
                    <label>
                        <input type="checkbox" id="showFirstGame" checked>
                        Erstes Spiel visualisieren
                    </label>
                </div>

                <!-- Advanced Stats -->
                <div class="config-block checkbox">
                    <label>
                        <input type="checkbox" id="showAdvancedStats">
                        Advanced Stats anzeigen
                    </label>
                </div>
            </div>

            <!-- Start Button -->
            <button id="startButton" class="btn btn-primary btn-large">üöÄ Arena starten</button>
            <button id="stopButton" class="btn btn-secondary btn-large" disabled style="display: none;">‚èπÔ∏è Stoppen</button>
        </section>

        <!-- FORTSCHRITTS-ANZEIGE -->
        <section class="arena-section progress-section" id="progressSection" style="display: none;">
            <h2>‚è≥ Simulation l√§uft...</h2>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <p class="progress-text" id="progressText">0 / 100 Spiele</p>
        </section>

        <!-- FORTSCHRITTS-ANZEIGE -->
        <div class="progress-section" id="progressSection" style="display: none;">
            <h3>‚è≥ Simulation l√§uft...</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <p class="progress-text" id="progressText">0 / 100 Spiele</p>
        </div>

        <!-- STATISTIK-ERGEBNISSE -->
        <div class="results-section" id="resultsSection" style="display: none;">
            <h3>üìä Ergebnisse</h3>
            
            <!-- √úbersicht -->
            <div class="stats-overview">
                <div class="stat-card blue">
                    <div class="stat-value" id="statBlueWins">0</div>
                    <div class="stat-label">Siege (Blau)</div>
                    <div class="stat-percentage" id="statBluePercent">0%</div>
                </div>

                <div class="stat-card draw">
                    <div class="stat-value" id="statDraws">0</div>
                    <div class="stat-label">Unentschieden</div>
                    <div class="stat-percentage" id="statDrawPercent">0%</div>
                </div>

                <div class="stat-card red">
                    <div class="stat-value" id="statRedWins">0</div>
                    <div class="stat-label">Siege (Rot)</div>
                    <div class="stat-percentage" id="statRedPercent">0%</div>
                </div>
            </div>

            <!-- Details -->
            <div class="stats-details">
                <div class="detail-item">
                    <span class="detail-label">√ò Z√ºge pro Spiel:</span>
                    <span id="statAvgMoves" class="detail-value">0</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">√ò Spieldauer:</span>
                    <span id="statAvgTime" class="detail-value">0 ms</span>
                </div>
                <div class="detail-item">
                    <span class="detail-label">Gesamt-Zeit:</span>
                    <span id="statTotalTime" class="detail-value">0 s</span>
                </div>
            </div>

            <!-- Advanced Stats (Toggle) -->
            <details class="stats-advanced" id="advancedStatsPanel" style="display: none;">
                <summary>‚öôÔ∏è Advanced Statistiken</summary>
                <div class="advanced-content">
                    <div class="detail-item">
                        <span class="detail-label">√ò Zugzeit (Blau):</span>
                        <span id="statBlueAvgTime" class="detail-value">0 ms</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Max Zugzeit (Blau):</span>
                        <span id="statBlueMaxTime" class="detail-value">0 ms</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">√ò Zugzeit (Rot):</span>
                        <span id="statRedAvgTime" class="detail-value">0 ms</span>
                    </div>
                    <div class="detail-item">
                        <span class="detail-label">Max Zugzeit (Rot):</span>
                        <span id="statRedMaxTime" class="detail-value">0 ms</span>
                    </div>
                </div>
            </details>

            <!-- Agent-Namen anzeigen -->
            <div class="agent-names">
                <p><strong>Agent 1 (Blau):</strong> <span id="agentBlueName">-</span></p>
                <p><strong>Agent 2 (Rot):</strong> <span id="agentRedName">-</span></p>
            </div>

            <button id="resetButton" class="viz-btn viz-btn-action">üîÑ Neuer Vergleich</button>
        </div>

        <!-- FEHLER-ANZEIGE -->
        <div class="error-section" id="errorSection" style="display: none;">
            <h3>‚ö†Ô∏è Fehler</h3>
            <p id="errorMessage" class="error-message"></p>
        </div>
    </div>

    <!-- Scripts -->
    <script src="../js/core/agent.js"></script>
    <script src="../js/core/game-state.js"></script>
    <script src="../js/games/tictactoe/logic.js"></script>
    <script src="../js/ai/heuristics.js"></script>
    <script src="../js/ai/minimax.js"></script>
    <script src="../js/ai/agents/minimax-agent.js"></script>
    <script src="../js/ai/agents/rule-based-agent.js"></script>
    <script src="../js/ai/agents/random-agent.js"></script>
    <script src="../js/ai/rules/rule-structure.js"></script>
    <script src="../js/ai/rules/ttt-rules.js"></script>
    <script src="../js/ai/game-adapter.js"></script>
    <script src="../js/ai/agent-profiles.js"></script>
    <script src="../js/ai/arena-controller.js"></script>
</body>
</html>

