<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Die Auswirkung von Doppelungen</title>
    <meta name="course-config" content="course.json">
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/learning-path.css">
</head>
<body class="lp-layout-game">

<div class="lp-layout-game-container">
    
    <div class="lp-sidebar">
        <div class="lp-sidebar-header">
            <h1>Duplikaterkennung</h1>
        </div>
        
        <div class="lp-sidebar-content">
            <div class="lp-block lp-explanation" style="margin-top:0;">
                <p><strong>Aufgabe:</strong> Stelle im Tool rechts folgende Einstellungen ein:</p>
                <ul style="font-size:0.9rem;">
                    <li>Level: 2</li>
                    <li>Tiefe: 7</li>
                    <li>Duplikate nicht markieren</li>
                </ul>
                <p>Klicke auf "Baum generieren" und gib die Anzahl der Knoten ein:</p>
            </div>
            
            <div class="lp-block" style="background:#f5f7fa; padding:1rem;">
                <label><strong>Ohne Duplikaterkennung:</strong></label>
                <input type="number" id="withoutDup" class="lp-input" style="width:100%; margin:0.5rem 0;" placeholder="Anzahl Knoten">
                <span id="feedback1"></span>
                
                <label style="margin-top:1rem; display:block;"><strong>Mit Duplikaterkennung:</strong></label>
                <p style="font-size:0.85rem; color:#666; margin:0.3rem 0;">Aktiviere jetzt "Duplikate markieren" und klicke erneut auf "Baum generieren"</p>
                <input type="number" id="withDup" class="lp-input" style="width:100%; margin:0.5rem 0;" placeholder="Anzahl Knoten">
                <span id="feedback2"></span>
            </div>
            
            <div class="lp-block" style="margin-top:1rem; background:#e3f2fd; padding:1rem;">
                <h4 style="margin-top:0;">Was bedeutet das?</h4>
                <p style="font-size:0.9rem;">Durch Duplikaterkennung können wir <strong>den Suchraum dramatisch reduzieren</strong>!</p>
                <p style="font-size:0.9rem;">Manche Spielzustände können auf verschiedene Arten erreicht werden.</p>
            </div>
            
            <div id="task-status" class="lp-block" style="display:none; background:#e8f5e9; border-left:4px solid #4caf50; margin-top:1rem;">
                <p style="margin:0; color:#2e7d32;"><strong>✓ Aufgabe erfüllt!</strong><br>Beide Zahlen korrekt eingetragen!</p>
            </div>
        </div>

        <div class="lp-sidebar-footer lp-navigation"></div>
    </div>

    <div class="lp-main-content">
        <iframe id="vizFrame" src="../../playground/rotatebox-viz.html?level=2&maxDepth=7&duplicates=false&showLevelSelect=true&showDuplicateToggle=true&showAlgoSelect=false&continueAfterSol=false" class="lp-game-frame-full"></iframe>
    </div>

</div>

<script>
window.COURSE_DATA = {"id":"search-trees-rotatebox","title":"Suchbäume mit RotateBox verstehen","description":"Lerne wie Computer komplexe Rätsel lösen, indem wir das Spiel RotateBox untersuchen.","author":"Alexander Wolf","version":"1.0","lessons":[{"id":"intro","title":"Einführung: Wie löst eine KI Rätsel?","file":"00_intro.html","type":"intro"},{"id":"game-basics","title":"Das Spiel und die Interaktion","file":"01_game.html","type":"practice"},{"id":"puzzle-challenge","title":"Rätseln mit Hilfe","file":"02_puzzle.html","type":"practice"},{"id":"ai-intro","title":"Der Computer hilft","file":"03_ai.html","type":"interactive"},{"id":"tree-basics","title":"Der Suchbaum","file":"04_tree_1.html","type":"theory"},{"id":"tree-growth","title":"Der Suchbaum wächst","file":"05_tree_2.html","type":"theory"},{"id":"complexity","title":"Komplexität von Binärbäumen","file":"06_complexity.html","type":"math"},{"id":"limits","title":"Wir sprengen den Algorithmus","file":"07_limits.html","type":"advanced"},{"id":"duplicates","title":"Die Auswirkung von Doppelungen","file":"08_duplicates.html","type":"theory"},{"id":"final-quiz","title":"Abschlussquiz","file":"09_quiz.html","type":"quiz"}]};
</script>
<script src="../../js/learning-path.js"></script>
<script>
    let taskCompleted = false;
    
    const withoutDup = document.getElementById('withoutDup');
    const withDup = document.getElementById('withDup');
    const feedback1 = document.getElementById('feedback1');
    const feedback2 = document.getElementById('feedback2');
    
    function checkAnswer(input, correctAnswer, feedbackEl) {
        if (input.value == correctAnswer) {
            feedbackEl.textContent = ' ✓';
            feedbackEl.style.color = 'green';
            input.style.borderColor = 'green';
            input.style.background = '#e8f5e9';
            return true;
        } else if (input.value.length > 0) {
            feedbackEl.textContent = ' Versuche es nochmal';
            feedbackEl.style.color = 'orange';
            return false;
        }
        return false;
    }
    
    withoutDup.addEventListener('input', () => {
        checkAnswer(withoutDup, 255, feedback1);
        checkBothCorrect();
    });
    
    withDup.addEventListener('input', () => {
        checkAnswer(withDup, 63, feedback2);
        checkBothCorrect();
    });
    
    function checkBothCorrect() {
        if (withoutDup.value == 255 && withDup.value == 63 && !taskCompleted) {
            taskCompleted = true;
            document.getElementById('task-status').style.display = 'block';
            if (window.learningPath) {
                window.learningPath.enableNextButton();
            }
        }
    }
</script>
</body>
</html>
